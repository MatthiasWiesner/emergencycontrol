{% extends 'layout.jinja' %}
{% from 'macros.jinja' import with_errors %}

{% block title %}New Person Page{% endblock %}
{% block content %}
<form class=form-horizontal action="{{ url_for('person', next=request.args.get('next')) }}" method=post>
  {{ form.hidden_tag() }}
  {{ with_errors(form.name, placeholder='Person name') }}
  {{ with_errors(form.phone, placeholder='Phone') }}
  {{ with_errors(form.image_url, placeholder='Image') }}
  <div class=control-group>
    <div class=controls>
      <button type=submit class="btn btn-primary">Create</button>
    </div>
  </div>
 </form>

  <table class="table table-bordered">
    <tr>
    <th>Name</th>
    <th>Phone</th>
    <tr>
    {% for person in persons %}
       <tr>
       <td>{{ person.name }}</td>
       <td>{{ person.phone }}</td>
       </tr>
    {% endfor %}
  </table>

{% endblock %}
